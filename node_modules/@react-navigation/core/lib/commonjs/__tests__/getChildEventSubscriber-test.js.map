{"version":3,"sources":["getChildEventSubscriber-test.js"],"names":["it","parentSubscriber","jest","fn","emitParentAction","payload","mock","calls","forEach","subs","type","subscriptionRemove","mockReturnValueOnce","remove","childEventSubscriber","addListener","testState","key","routeName","routes","index","isTransitioning","focusedTestState","childActionHandler","childWillFocusHandler","childDidFocusHandler","state","lastState","action","expect","length","toBe","grandParentSubscriber","emitGrandParentAction","parentBlurState","parentTransitionState","parentFocusState","makeFakeState","childIndex","childIsTransitioning","blurredState","transitionState","focusState","transition2State","blurred2State","childWillBlurHandler","childDidBlurHandler","slice","randomAction","setupEventTest","subscriptionKey","initialLastFocusEvent","emitEvent","evtProvider","handlers","willFocus","didFocus","willBlur","didBlur"],"mappings":"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","sourcesContent":["import getChildEventSubscriber from '../getChildEventSubscriber';\n\nit('child action events only flow when focused', () => {\n  const parentSubscriber = jest.fn();\n  const emitParentAction = payload => {\n    parentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  parentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const testState = {\n    key: 'foo',\n    routeName: 'FooRoute',\n    routes: [{ key: 'key0' }, { key: 'key1' }],\n    index: 0,\n    isTransitioning: false,\n  };\n  const focusedTestState = {\n    ...testState,\n    index: 1,\n  };\n  const childActionHandler = jest.fn();\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  childEventSubscriber('action', childActionHandler);\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  emitParentAction({\n    type: 'action',\n    state: focusedTestState,\n    lastState: testState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  emitParentAction({\n    type: 'action',\n    state: focusedTestState,\n    lastState: focusedTestState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(1);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n});\n\nit('grandchildren subscription', () => {\n  const grandParentSubscriber = jest.fn();\n  const emitGrandParentAction = payload => {\n    grandParentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  grandParentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const parentSubscriber = getChildEventSubscriber(\n    grandParentSubscriber,\n    'parent'\n  ).addListener;\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const parentBlurState = {\n    key: 'foo',\n    routeName: 'FooRoute',\n    routes: [\n      { key: 'aunt' },\n      {\n        key: 'parent',\n        routes: [{ key: 'key0' }, { key: 'key1' }],\n        index: 1,\n        isTransitioning: false,\n      },\n    ],\n    index: 0,\n    isTransitioning: false,\n  };\n  const parentTransitionState = {\n    ...parentBlurState,\n    index: 1,\n    isTransitioning: true,\n  };\n  const parentFocusState = {\n    ...parentTransitionState,\n    isTransitioning: false,\n  };\n  const childActionHandler = jest.fn();\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  childEventSubscriber('action', childActionHandler);\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  emitGrandParentAction({\n    type: 'action',\n    state: parentTransitionState,\n    lastState: parentBlurState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(0);\n  emitGrandParentAction({\n    type: 'action',\n    state: parentFocusState,\n    lastState: parentTransitionState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n});\n\nit('grandchildren transitions', () => {\n  const grandParentSubscriber = jest.fn();\n  const emitGrandParentAction = payload => {\n    grandParentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  grandParentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const parentSubscriber = getChildEventSubscriber(\n    grandParentSubscriber,\n    'parent'\n  ).addListener;\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const makeFakeState = (childIndex, childIsTransitioning) => ({\n    index: 1,\n    isTransitioning: false,\n    routes: [\n      { key: 'nothing' },\n      {\n        key: 'parent',\n        index: childIndex,\n        isTransitioning: childIsTransitioning,\n        routes: [{ key: 'key0' }, { key: 'key1' }, { key: 'key2' }],\n      },\n    ],\n  });\n  const blurredState = makeFakeState(0, false);\n  const transitionState = makeFakeState(1, true);\n  const focusState = makeFakeState(1, false);\n  const transition2State = makeFakeState(2, true);\n  const blurred2State = makeFakeState(2, false);\n\n  const childActionHandler = jest.fn();\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  const childWillBlurHandler = jest.fn();\n  const childDidBlurHandler = jest.fn();\n  childEventSubscriber('action', childActionHandler);\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  childEventSubscriber('willBlur', childWillBlurHandler);\n  childEventSubscriber('didBlur', childDidBlurHandler);\n  emitGrandParentAction({\n    type: 'action',\n    state: transitionState,\n    lastState: blurredState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(0);\n  emitGrandParentAction({\n    type: 'action',\n    state: focusState,\n    lastState: transitionState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: focusState,\n    lastState: focusState,\n    action: { type: 'TestAction' },\n  });\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: transition2State,\n    lastState: focusState,\n    action: { type: 'CauseWillBlurAction' },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  expect(childDidBlurHandler.mock.calls.length).toBe(0);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: blurred2State,\n    lastState: transition2State,\n    action: { type: 'CauseDidBlurAction' },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  expect(childDidBlurHandler.mock.calls.length).toBe(1);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n});\n\nit('grandchildren pass through transitions', () => {\n  const grandParentSubscriber = jest.fn();\n  const emitGrandParentAction = payload => {\n    grandParentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  grandParentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const parentSubscriber = getChildEventSubscriber(\n    grandParentSubscriber,\n    'parent'\n  ).addListener;\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const makeFakeState = (childIndex, childIsTransitioning) => ({\n    index: childIndex,\n    isTransitioning: childIsTransitioning,\n    routes: [\n      { key: 'nothing' },\n      {\n        key: 'parent',\n        index: 1,\n        isTransitioning: false,\n        routes: [{ key: 'key0' }, { key: 'key1' }, { key: 'key2' }],\n      },\n    ].slice(0, childIndex + 1),\n  });\n  const blurredState = makeFakeState(0, false);\n  const transitionState = makeFakeState(1, true);\n  const focusState = makeFakeState(1, false);\n  const transition2State = makeFakeState(0, true);\n  const blurred2State = makeFakeState(0, false);\n\n  const childActionHandler = jest.fn();\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  const childWillBlurHandler = jest.fn();\n  const childDidBlurHandler = jest.fn();\n  childEventSubscriber('action', childActionHandler);\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  childEventSubscriber('willBlur', childWillBlurHandler);\n  childEventSubscriber('didBlur', childDidBlurHandler);\n  emitGrandParentAction({\n    type: 'action',\n    state: transitionState,\n    lastState: blurredState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(0);\n  emitGrandParentAction({\n    type: 'action',\n    state: focusState,\n    lastState: transitionState,\n    action: { type: 'FooAction' },\n  });\n  expect(childActionHandler.mock.calls.length).toBe(0);\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: focusState,\n    lastState: focusState,\n    action: { type: 'TestAction' },\n  });\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: transition2State,\n    lastState: focusState,\n    action: { type: 'CauseWillBlurAction' },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  expect(childDidBlurHandler.mock.calls.length).toBe(0);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n  emitGrandParentAction({\n    type: 'action',\n    state: blurred2State,\n    lastState: transition2State,\n    action: { type: 'CauseDidBlurAction' },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  expect(childDidBlurHandler.mock.calls.length).toBe(1);\n  expect(childActionHandler.mock.calls.length).toBe(1);\n});\n\nit('child focus with transition', () => {\n  const parentSubscriber = jest.fn();\n  const emitParentAction = payload => {\n    parentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  parentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const randomAction = { type: 'FooAction' };\n  const testState = {\n    key: 'foo',\n    routeName: 'FooRoute',\n    routes: [{ key: 'key0' }, { key: 'key1' }],\n    index: 0,\n    isTransitioning: false,\n  };\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  const childWillBlurHandler = jest.fn();\n  const childDidBlurHandler = jest.fn();\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  childEventSubscriber('willBlur', childWillBlurHandler);\n  childEventSubscriber('didBlur', childDidBlurHandler);\n  emitParentAction({\n    type: 'didFocus',\n    action: randomAction,\n    lastState: testState,\n    state: testState,\n  });\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: testState,\n    state: {\n      ...testState,\n      index: 1,\n      isTransitioning: true,\n    },\n  });\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: {\n      ...testState,\n      index: 1,\n      isTransitioning: true,\n    },\n    state: {\n      ...testState,\n      index: 1,\n      isTransitioning: false,\n    },\n  });\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: {\n      ...testState,\n      index: 1,\n      isTransitioning: false,\n    },\n    state: {\n      ...testState,\n      index: 0,\n      isTransitioning: true,\n    },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: {\n      ...testState,\n      index: 0,\n      isTransitioning: true,\n    },\n    state: {\n      ...testState,\n      index: 0,\n      isTransitioning: false,\n    },\n  });\n  expect(childDidBlurHandler.mock.calls.length).toBe(1);\n});\n\nit('child focus with immediate transition', () => {\n  const parentSubscriber = jest.fn();\n  const emitParentAction = payload => {\n    parentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  parentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const childEventSubscriber = getChildEventSubscriber(parentSubscriber, 'key1')\n    .addListener;\n  const randomAction = { type: 'FooAction' };\n  const testState = {\n    key: 'foo',\n    routeName: 'FooRoute',\n    routes: [{ key: 'key0' }, { key: 'key1' }],\n    index: 0,\n    isTransitioning: false,\n  };\n  const childWillFocusHandler = jest.fn();\n  const childDidFocusHandler = jest.fn();\n  const childWillBlurHandler = jest.fn();\n  const childDidBlurHandler = jest.fn();\n  childEventSubscriber('willFocus', childWillFocusHandler);\n  childEventSubscriber('didFocus', childDidFocusHandler);\n  childEventSubscriber('willBlur', childWillBlurHandler);\n  childEventSubscriber('didBlur', childDidBlurHandler);\n  emitParentAction({\n    type: 'didFocus',\n    action: randomAction,\n    lastState: testState,\n    state: testState,\n  });\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: testState,\n    state: {\n      ...testState,\n      index: 1,\n    },\n  });\n  expect(childWillFocusHandler.mock.calls.length).toBe(1);\n  expect(childDidFocusHandler.mock.calls.length).toBe(1);\n\n  emitParentAction({\n    type: 'action',\n    action: randomAction,\n    lastState: {\n      ...testState,\n      index: 1,\n    },\n    state: {\n      ...testState,\n      index: 0,\n    },\n  });\n  expect(childWillBlurHandler.mock.calls.length).toBe(1);\n  expect(childDidBlurHandler.mock.calls.length).toBe(1);\n});\n\nconst setupEventTest = (subscriptionKey, initialLastFocusEvent) => {\n  const parentSubscriber = jest.fn();\n  const emitEvent = payload => {\n    parentSubscriber.mock.calls.forEach(subs => {\n      if (subs[0] === payload.type) {\n        subs[1](payload);\n      }\n    });\n  };\n  const subscriptionRemove = () => {};\n  parentSubscriber.mockReturnValueOnce({ remove: subscriptionRemove });\n  const evtProvider = getChildEventSubscriber(\n    parentSubscriber,\n    subscriptionKey,\n    initialLastFocusEvent\n  );\n  const handlers = {};\n  evtProvider.addListener('action', (handlers.action = jest.fn()));\n  evtProvider.addListener('willFocus', (handlers.willFocus = jest.fn()));\n  evtProvider.addListener('didFocus', (handlers.didFocus = jest.fn()));\n  evtProvider.addListener('willBlur', (handlers.willBlur = jest.fn()));\n  evtProvider.addListener('didBlur', (handlers.didBlur = jest.fn()));\n  return { emitEvent, handlers, evtProvider };\n};\n\nit('immediate back with uncompleted transition will focus first screen again', () => {\n  const { handlers, emitEvent } = setupEventTest('key0', 'didFocus');\n  emitEvent({\n    type: 'action',\n    state: {\n      index: 1,\n      routes: [{ key: 'key0' }, { key: 'key1' }],\n      isTransitioning: true,\n    },\n    lastState: {\n      index: 0,\n      routes: [{ key: 'key0' }],\n      isTransitioning: false,\n    },\n    action: { type: 'Any action, does not matter here' },\n  });\n  expect(handlers.willFocus.mock.calls.length).toBe(0);\n  expect(handlers.didFocus.mock.calls.length).toBe(0);\n  expect(handlers.willBlur.mock.calls.length).toBe(1);\n  expect(handlers.didBlur.mock.calls.length).toBe(0);\n  emitEvent({\n    type: 'action',\n    state: {\n      index: 0,\n      routes: [{ key: 'key0' }],\n      isTransitioning: true,\n    },\n    lastState: {\n      index: 1,\n      routes: [{ key: 'key0' }, { key: 'key1' }],\n      isTransitioning: true,\n    },\n    action: { type: 'Any action, does not matter here' },\n  });\n  expect(handlers.willFocus.mock.calls.length).toBe(1);\n  expect(handlers.didFocus.mock.calls.length).toBe(0);\n  expect(handlers.willBlur.mock.calls.length).toBe(1);\n  expect(handlers.didBlur.mock.calls.length).toBe(0);\n  emitEvent({\n    type: 'action',\n    state: {\n      index: 0,\n      routes: [{ key: 'key0' }],\n      isTransitioning: false,\n    },\n    lastState: {\n      index: 0,\n      routes: [{ key: 'key0' }],\n      isTransitioning: true,\n    },\n    action: { type: 'Any action, does not matter here' },\n  });\n  expect(handlers.willFocus.mock.calls.length).toBe(1);\n  expect(handlers.didFocus.mock.calls.length).toBe(1);\n  expect(handlers.willBlur.mock.calls.length).toBe(1);\n  expect(handlers.didBlur.mock.calls.length).toBe(0);\n});\n"]}