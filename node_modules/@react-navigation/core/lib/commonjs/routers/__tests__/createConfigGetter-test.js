var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _react=require("react");var _createConfigGetter=_interopRequireDefault(require("../createConfigGetter"));var dummyEventSubscriber=function dummyEventSubscriber(){return{remove:function remove(){}};};it('should get config for screen',function(){var HomeScreen=function(_Component){(0,_inherits2.default)(HomeScreen,_Component);function HomeScreen(){(0,_classCallCheck2.default)(this,HomeScreen);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(HomeScreen).apply(this,arguments));}(0,_createClass2.default)(HomeScreen,[{key:"render",value:function render(){return null;}}]);return HomeScreen;}(_react.Component);HomeScreen.navigationOptions=function(_ref){var navigation=_ref.navigation;return{title:"Welcome "+(navigation.state.params?navigation.state.params.user:'anonymous'),gesturesEnabled:true};};var SettingsScreen=function(_Component2){(0,_inherits2.default)(SettingsScreen,_Component2);function SettingsScreen(){(0,_classCallCheck2.default)(this,SettingsScreen);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(SettingsScreen).apply(this,arguments));}(0,_createClass2.default)(SettingsScreen,[{key:"render",value:function render(){return null;}}]);return SettingsScreen;}(_react.Component);SettingsScreen.navigationOptions={title:'Settings!!!',gesturesEnabled:false};var NotificationScreen=function(_Component3){(0,_inherits2.default)(NotificationScreen,_Component3);function NotificationScreen(){(0,_classCallCheck2.default)(this,NotificationScreen);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(NotificationScreen).apply(this,arguments));}(0,_createClass2.default)(NotificationScreen,[{key:"render",value:function render(){return null;}}]);return NotificationScreen;}(_react.Component);NotificationScreen.navigationOptions=function(_ref2){var navigation=_ref2.navigation;return{title:'42',gesturesEnabled:navigation.state.params?!navigation.state.params.fullscreen:true};};var getScreenOptions=(0,_createConfigGetter.default)({Home:{screen:HomeScreen},Settings:{screen:SettingsScreen},Notifications:{screen:NotificationScreen,navigationOptions:{title:'10 new notifications'}}});var routes=[{key:'A',routeName:'Home'},{key:'B',routeName:'Home',params:{user:'jane'}},{key:'C',routeName:'Settings'},{key:'D',routeName:'Notifications'},{key:'E',routeName:'Notifications',params:{fullscreen:true}}];expect(getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Welcome anonymous');expect(getScreenOptions({state:routes[1],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Welcome jane');expect(getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(true);expect(getScreenOptions({state:routes[2],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Settings!!!');expect(getScreenOptions({state:routes[2],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(false);expect(getScreenOptions({state:routes[3],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('10 new notifications');expect(getScreenOptions({state:routes[3],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(true);expect(getScreenOptions({state:routes[4],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(false);});it('should throw if the route does not exist',function(){var HomeScreen=function HomeScreen(){return null;};HomeScreen.navigationOptions={title:'Home screen',gesturesEnabled:true};var getScreenOptions=(0,_createConfigGetter.default)({Home:{screen:HomeScreen}});var routes=[{key:'B',routeName:'Settings'}];expect(function(){return getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{});}).toThrowError("There is no route defined for key Settings.\nMust be one of: 'Home'");});
//# sourceMappingURL=createConfigGetter-test.js.map