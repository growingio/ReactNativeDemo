{"version":3,"sources":["getNavigation.js"],"names":["getNavigation","router","state","dispatch","actionSubscribers","getScreenProps","getCurrentNavigation","actions","getActionCreators","navigation","getChildNavigation","childKey","isFocused","routes","index","key","addListener","eventName","handler","remove","add","delete","dangerouslyGetParent","isFirstRouteInParent","_childrenNavigation","actionCreators","Object","keys","forEach","actionName"],"mappings":"oQAAA,0GACA,iFACA,gGAEe,QAASA,CAAAA,aAAT,CACbC,MADa,CAEbC,KAFa,CAGbC,QAHa,CAIbC,iBAJa,CAKbC,cALa,CAMbC,oBANa,CAOb,CACA,GAAMC,CAAAA,OAAO,CAAGN,MAAM,CAACO,iBAAP,CAAyBN,KAAzB,CAAgC,IAAhC,CAAhB,CAEA,GAAMO,CAAAA,UAAU,CAAG,CACjBF,OAAO,CAAPA,OADiB,CAEjBN,MAAM,CAANA,MAFiB,CAGjBC,KAAK,CAALA,KAHiB,CAIjBC,QAAQ,CAARA,QAJiB,CAKjBE,cAAc,CAAdA,cALiB,CAMjBK,kBAAkB,CAAE,4BAAAC,QAAQ,QAC1B,iCAAmBF,UAAnB,CAA+BE,QAA/B,CAAyCL,oBAAzC,CAD0B,EANX,CAQjBM,SAAS,CAAE,mBAAAD,QAAQ,CAAI,2BACKL,oBAAoB,GAAGJ,KAD5B,CACbW,MADa,uBACbA,MADa,CACLC,KADK,uBACLA,KADK,CAErB,GAAIH,QAAQ,EAAI,IAAZ,EAAoBE,MAAM,CAACC,KAAD,CAAN,CAAcC,GAAd,GAAsBJ,QAA9C,CAAwD,CACtD,MAAO,KAAP,CACD,CACD,MAAO,MAAP,CACD,CAdgB,CAejBK,WAAW,CAAE,qBAACC,SAAD,CAAYC,OAAZ,CAAwB,CACnC,GAAID,SAAS,GAAK,QAAlB,CAA4B,CAC1B,MAAO,CAAEE,MAAM,CAAE,iBAAM,CAAE,CAAlB,CAAP,CACD,CACDf,iBAAiB,CAACgB,GAAlB,CAAsBF,OAAtB,EACA,MAAO,CACLC,MAAM,CAAE,iBAAM,CACZf,iBAAiB,CAACiB,MAAlB,CAAyBH,OAAzB,EACD,CAHI,CAAP,CAKD,CAzBgB,CA0BjBI,oBAAoB,CAAE,sCAAM,KAAN,EA1BL,CA2BjBC,oBAAoB,CAAE,sCAAM,KAAN,EA3BL,CA4BjBC,mBAAmB,CAAE,wCAA2BlB,oBAAoB,EAA/C,CA5BJ,CAAnB,CA+BA,GAAMmB,CAAAA,cAAc,+BACf,yCAA4BhB,UAAU,CAACP,KAAvC,CADe,CAEfK,OAFe,CAApB,CAKAmB,MAAM,CAACC,IAAP,CAAYF,cAAZ,EAA4BG,OAA5B,CAAoC,SAAAC,UAAU,CAAI,CAChDpB,UAAU,CAACoB,UAAD,CAAV,CAAyB,iBACvBpB,CAAAA,UAAU,CAACN,QAAX,CAAoBsB,cAAc,CAACI,UAAD,CAAd,OAAAJ,cAAc,WAAlC,CADuB,EAAzB,CAED,CAHD,EAKA,MAAOhB,CAAAA,UAAP,CACD","sourcesContent":["import getNavigationActionCreators from './routers/getNavigationActionCreators';\nimport getChildNavigation from './getChildNavigation';\nimport getChildrenNavigationCache from './getChildrenNavigationCache';\n\nexport default function getNavigation(\n  router,\n  state,\n  dispatch,\n  actionSubscribers,\n  getScreenProps,\n  getCurrentNavigation\n) {\n  const actions = router.getActionCreators(state, null);\n\n  const navigation = {\n    actions,\n    router,\n    state,\n    dispatch,\n    getScreenProps,\n    getChildNavigation: childKey =>\n      getChildNavigation(navigation, childKey, getCurrentNavigation),\n    isFocused: childKey => {\n      const { routes, index } = getCurrentNavigation().state;\n      if (childKey == null || routes[index].key === childKey) {\n        return true;\n      }\n      return false;\n    },\n    addListener: (eventName, handler) => {\n      if (eventName !== 'action') {\n        return { remove: () => {} };\n      }\n      actionSubscribers.add(handler);\n      return {\n        remove: () => {\n          actionSubscribers.delete(handler);\n        },\n      };\n    },\n    dangerouslyGetParent: () => null,\n    isFirstRouteInParent: () => true,\n    _childrenNavigation: getChildrenNavigationCache(getCurrentNavigation()),\n  };\n\n  const actionCreators = {\n    ...getNavigationActionCreators(navigation.state),\n    ...actions,\n  };\n\n  Object.keys(actionCreators).forEach(actionName => {\n    navigation[actionName] = (...args) =>\n      navigation.dispatch(actionCreators[actionName](...args));\n  });\n\n  return navigation;\n}\n"]}