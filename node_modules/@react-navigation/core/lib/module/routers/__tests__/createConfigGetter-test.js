import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";import{Component}from'react';import createConfigGetter from'../createConfigGetter';var dummyEventSubscriber=function dummyEventSubscriber(){return{remove:function remove(){}};};it('should get config for screen',function(){var HomeScreen=function(_Component){_inherits(HomeScreen,_Component);function HomeScreen(){_classCallCheck(this,HomeScreen);return _possibleConstructorReturn(this,_getPrototypeOf(HomeScreen).apply(this,arguments));}_createClass(HomeScreen,[{key:"render",value:function render(){return null;}}]);return HomeScreen;}(Component);HomeScreen.navigationOptions=function(_ref){var navigation=_ref.navigation;return{title:"Welcome "+(navigation.state.params?navigation.state.params.user:'anonymous'),gesturesEnabled:true};};var SettingsScreen=function(_Component2){_inherits(SettingsScreen,_Component2);function SettingsScreen(){_classCallCheck(this,SettingsScreen);return _possibleConstructorReturn(this,_getPrototypeOf(SettingsScreen).apply(this,arguments));}_createClass(SettingsScreen,[{key:"render",value:function render(){return null;}}]);return SettingsScreen;}(Component);SettingsScreen.navigationOptions={title:'Settings!!!',gesturesEnabled:false};var NotificationScreen=function(_Component3){_inherits(NotificationScreen,_Component3);function NotificationScreen(){_classCallCheck(this,NotificationScreen);return _possibleConstructorReturn(this,_getPrototypeOf(NotificationScreen).apply(this,arguments));}_createClass(NotificationScreen,[{key:"render",value:function render(){return null;}}]);return NotificationScreen;}(Component);NotificationScreen.navigationOptions=function(_ref2){var navigation=_ref2.navigation;return{title:'42',gesturesEnabled:navigation.state.params?!navigation.state.params.fullscreen:true};};var getScreenOptions=createConfigGetter({Home:{screen:HomeScreen},Settings:{screen:SettingsScreen},Notifications:{screen:NotificationScreen,navigationOptions:{title:'10 new notifications'}}});var routes=[{key:'A',routeName:'Home'},{key:'B',routeName:'Home',params:{user:'jane'}},{key:'C',routeName:'Settings'},{key:'D',routeName:'Notifications'},{key:'E',routeName:'Notifications',params:{fullscreen:true}}];expect(getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Welcome anonymous');expect(getScreenOptions({state:routes[1],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Welcome jane');expect(getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(true);expect(getScreenOptions({state:routes[2],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('Settings!!!');expect(getScreenOptions({state:routes[2],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(false);expect(getScreenOptions({state:routes[3],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).title).toEqual('10 new notifications');expect(getScreenOptions({state:routes[3],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(true);expect(getScreenOptions({state:routes[4],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{}).gesturesEnabled).toEqual(false);});it('should throw if the route does not exist',function(){var HomeScreen=function HomeScreen(){return null;};HomeScreen.navigationOptions={title:'Home screen',gesturesEnabled:true};var getScreenOptions=createConfigGetter({Home:{screen:HomeScreen}});var routes=[{key:'B',routeName:'Settings'}];expect(function(){return getScreenOptions({state:routes[0],dispatch:function dispatch(){return false;},addListener:dummyEventSubscriber},{});}).toThrowError("There is no route defined for key Settings.\nMust be one of: 'Home'");});
//# sourceMappingURL=createConfigGetter-test.js.map