var _jsxFileName="/Users/brentvatne/coding/react-navigation-core/src/navigators/__tests__/createSwitchnavigator-test.js";import*as React from'react';import{Text,View,TouchableOpacity}from'react-native';import{render,fireEvent}from'react-native-testing-library';import{createAppContainer}from'@react-navigation/native';import createSwitchNavigator from'../createSwitchNavigator';jest.mock('@react-navigation/core',function(){return require('../../index');});var getActiveRouteName=function getActiveRouteName(state){return state.routes[state.index].routeName;};var createScreen=function createScreen(routeName,nextRouteName){return function(props){return React.createElement(View,{__source:{fileName:_jsxFileName,lineNumber:11}},React.createElement(Text,{testID:"title",__source:{fileName:_jsxFileName,lineNumber:12}},routeName),React.createElement(Text,{testID:routeName+'-isFirstRoute',__source:{fileName:_jsxFileName,lineNumber:13}},String(props.navigation.isFirstRouteInParent())),React.createElement(TouchableOpacity,{testID:routeName+'-next',onPress:function onPress(){return props.navigation.navigate(nextRouteName);},__source:{fileName:_jsxFileName,lineNumber:16}},"Go to ",nextRouteName),React.createElement(TouchableOpacity,{testID:routeName+'-back',onPress:function onPress(){return props.navigation.goBack();},__source:{fileName:_jsxFileName,lineNumber:22}},"Go back"));};};it('renders switch navigator with initialRouteName',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')},{initialRouteName:'Second'});var App=createAppContainer(SwitchNavigator);var _render=render(React.createElement(App,{__source:{fileName:_jsxFileName,lineNumber:45}})),queryByText=_render.queryByText,getByTestId=_render.getByTestId;expect(queryByText('First')).toBeNull();expect(queryByText('Third')).toBeNull();expect(queryByText('Second')).not.toBeNull();fireEvent.press(getByTestId('Second-next'));expect(queryByText('First')).not.toBeNull();expect(queryByText('Third')).toBeNull();expect(queryByText('Second')).toBeNull();});it('uses backBehavior=none by default',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')});var App=createAppContainer(SwitchNavigator);var navigationRef=React.createRef();var _render2=render(React.createElement(App,{ref:navigationRef,__source:{fileName:_jsxFileName,lineNumber:69}})),getByTestId=_render2.getByTestId;expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Third');fireEvent.press(getByTestId('Third-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');fireEvent.press(getByTestId('Second-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');});it('uses backBehavior=initialRoute when specified',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')},{backBehavior:'initialRoute'});var App=createAppContainer(SwitchNavigator);var navigationRef=React.createRef();var _render3=render(React.createElement(App,{ref:navigationRef,__source:{fileName:_jsxFileName,lineNumber:102}})),getByTestId=_render3.getByTestId;expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Third');fireEvent.press(getByTestId('Third-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');fireEvent.press(getByTestId('Second-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');});it('uses backBehavior=order when specified',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')},{backBehavior:'order'});var App=createAppContainer(SwitchNavigator);var navigationRef=React.createRef();var _render4=render(React.createElement(App,{ref:navigationRef,__source:{fileName:_jsxFileName,lineNumber:135}})),getByTestId=_render4.getByTestId;expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Third');fireEvent.press(getByTestId('Third-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');fireEvent.press(getByTestId('Second-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');});it('uses backBehavior=history when specified',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')},{backBehavior:'history'});var App=createAppContainer(SwitchNavigator);var navigationRef=React.createRef();var _render5=render(React.createElement(App,{ref:navigationRef,__source:{fileName:_jsxFileName,lineNumber:168}})),getByTestId=_render5.getByTestId;expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Third');fireEvent.press(getByTestId('Third-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');fireEvent.press(getByTestId('Second-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-next'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Third');fireEvent.press(getByTestId('Third-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('First');fireEvent.press(getByTestId('First-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');fireEvent.press(getByTestId('Second-back'));expect(getActiveRouteName(navigationRef.current.state.nav)).toBe('Second');});it('returns correct value for canGoBack in a simple navigator',function(){var SwitchNavigator=createSwitchNavigator({First:createScreen('First','Third'),Second:createScreen('Second','First'),Third:createScreen('Third','Second')},{backBehavior:'history'});var App=createAppContainer(SwitchNavigator);var navigationRef=React.createRef();var _render6=render(React.createElement(App,{ref:navigationRef,__source:{fileName:_jsxFileName,lineNumber:217}})),getByTestId=_render6.getByTestId;expect(getByTestId('First-isFirstRoute').props.children).toBe('true');fireEvent.press(getByTestId('First-next'));expect(getByTestId('Third-isFirstRoute').props.children).toBe('false');fireEvent.press(getByTestId('Third-next'));expect(getByTestId('Second-isFirstRoute').props.children).toBe('false');fireEvent.press(getByTestId('Second-back'));expect(getByTestId('Third-isFirstRoute').props.children).toBe('false');});
//# sourceMappingURL=createSwitchnavigator-test.js.map