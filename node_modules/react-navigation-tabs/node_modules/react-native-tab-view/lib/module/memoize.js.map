{"version":3,"sources":["memoize.tsx"],"names":["memoize","callback","previous","result","hasChanged","dependencies","length","i","undefined"],"mappings":"AAAA,cAAe,SAASA,CAAAA,OAAT,CACbC,QADa,CAEb,CACA,GAAIC,CAAAA,QAAJ,CACA,GAAIC,CAAAA,MAAJ,CAEA,MAAO,WAAmC,CACxC,GAAIC,CAAAA,UAAU,CAAG,KAAjB,CADwC,8BAA/BC,YAA+B,0CAA/BA,YAA+B,wBAGxC,GAAIH,QAAJ,CAAc,CACZ,GAAIA,QAAQ,CAACI,MAAT,GAAoBD,YAAY,CAACC,MAArC,CAA6C,CAC3CF,UAAU,CAAG,IAAb,CACD,CAFD,IAEO,CACL,IAAK,GAAIG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,QAAQ,CAACI,MAA7B,CAAqCC,CAAC,EAAtC,CAA0C,CACxC,GAAIL,QAAQ,CAACK,CAAD,CAAR,GAAgBF,YAAY,CAACE,CAAD,CAAhC,CAAqC,CACnCH,UAAU,CAAG,IAAb,CACA,MACD,CACF,CACF,CACF,CAXD,IAWO,CACLA,UAAU,CAAG,IAAb,CACD,CAEDF,QAAQ,CAAGG,YAAX,CAEA,GAAID,UAAU,EAAID,MAAM,GAAKK,SAA7B,CAAwC,CACtCL,MAAM,CAAGF,QAAQ,MAAR,QAAYI,YAAZ,CAAT,CACD,CAED,MAAOF,CAAAA,MAAP,CACD,CAzBD,CA0BD","sourcesContent":["export default function memoize<Result, Deps extends ReadonlyArray<any>>(\n  callback: (...deps: Deps) => Result\n) {\n  let previous: Deps | undefined;\n  let result: Result | undefined;\n\n  return (...dependencies: Deps): Result => {\n    let hasChanged = false;\n\n    if (previous) {\n      if (previous.length !== dependencies.length) {\n        hasChanged = true;\n      } else {\n        for (let i = 0; i < previous.length; i++) {\n          if (previous[i] !== dependencies[i]) {\n            hasChanged = true;\n            break;\n          }\n        }\n      }\n    } else {\n      hasChanged = true;\n    }\n\n    previous = dependencies;\n\n    if (hasChanged || result === undefined) {\n      result = callback(...dependencies);\n    }\n\n    return result;\n  };\n}\n"]}