{"version":3,"sources":["Header.tsx"],"names":["APPBAR_HEIGHT","Platform","select","ios","android","default","STATUSBAR_HEIGHT","TITLE_OFFSET_CENTER_ALIGN","TITLE_OFFSET_LEFT_ALIGN","getTitleOffsets","layoutPreset","hasLeftComponent","hasRightComponent","style","left","right","OS","undefined","getAppBarHeight","isLandscape","isPad","Header","state","widths","renderTitleComponent","props","options","scene","descriptor","headerTitle","React","isValidElement","titleString","getHeaderTitleString","titleStyle","headerTitleStyle","color","headerTintColor","allowFontScaling","headerTitleAllowFontScaling","onLayout","e","width","nativeEvent","layout","setState","key","HeaderTitleComponent","HeaderTitle","textAlign","renderLeftComponent","headerLeft","index","backButtonTitle","getBackButtonTitleString","truncatedBackButtonTitle","getTruncatedBackButtonTitle","initWidth","RenderedLeftComponent","HeaderBackButton","goBack","requestAnimationFrame","navigation","headerPressColorAndroid","headerBackImage","backTitleVisible","headerBackAllowFontScaling","headerBackTitleStyle","renderModularLeftComponent","ButtonContainerComponent","LabelContainerComponent","renderRightComponent","headerRight","renderLeft","transitionPreset","headerLeftContainerStyle","renderSubView","leftInterpolator","renderModularSubView","leftLabelInterpolator","leftButtonInterpolator","renderTitle","justifyContent","headerTitleContainerStyle","titleFromLeftInterpolator","titleInterpolator","renderRight","headerRightContainerStyle","rightInterpolator","renderBackground","offset","Math","abs","StyleSheet","absoluteFill","headerBackground","backgroundInterpolator","name","renderer","labelStyleInterpolator","buttonStyleInterpolator","isStale","ButtonContainer","children","LabelContainer","subView","pointerEvents","styles","item","styleInterpolator","renderHeader","header","title","wrapperProps","iconMaskContainer","require","iconMask","iconMaskFillerRect","__DEV__","Error","route","routeName","scenes","find","s","lastScene","getLastScene","headerBackTitle","headerTruncatedBackTitle","appBar","background","mode","scenesByIndex","forEach","scenesProps","Object","values","map","position","headerProps","Animated","Value","headerStyle","headerStyleObj","flatten","appBarHeight","alignItems","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","padding","paddingHorizontal","paddingRight","paddingLeft","top","bottom","safeHeaderStyle","warnIfHeaderStyleDefined","containerStyles","headerTransparent","transparentContainer","container","height","headerForceInset","forceInset","horizontal","layoutInterpolator","backgroundColor","DEFAULT_BACKGROUND_COLOR","flexOne","PureComponent","defaultProps","HeaderStyleInterpolator","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackground","value","styleProp","console","warn","platformContainerStyles","elevation","borderBottomWidth","hairlineWidth","borderBottomColor","boxShadow","create","absoluteFillObject","marginLeft","marginTop","alignSelf","resizeMode","transform","scaleX","I18nManager","isRTL"],"mappings":"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","sourcesContent":["import * as React from 'react';\n\nimport {\n  Animated,\n  Image,\n  Platform,\n  StyleSheet,\n  View,\n  I18nManager,\n  MaskedViewIOS,\n  ViewStyle,\n  LayoutChangeEvent,\n  StyleProp,\n} from 'react-native';\n\nimport { withOrientation, SafeAreaView } from '@react-navigation/native';\n\nimport HeaderTitle from './HeaderTitle';\nimport HeaderBackButton from './HeaderBackButton';\nimport ModularHeaderBackButton from './ModularHeaderBackButton';\nimport HeaderStyleInterpolator from './HeaderStyleInterpolator';\nimport {\n  Scene,\n  HeaderLayoutPreset,\n  SceneInterpolatorProps,\n  HeaderProps,\n} from '../../types';\n\ntype Props = HeaderProps & {\n  leftLabelInterpolator: (props: SceneInterpolatorProps) => any;\n  leftButtonInterpolator: (props: SceneInterpolatorProps) => any;\n  titleFromLeftInterpolator: (props: SceneInterpolatorProps) => any;\n  layoutInterpolator: (props: SceneInterpolatorProps) => any;\n};\n\ntype SubviewProps = {\n  position: Animated.AnimatedInterpolation;\n  scene: Scene;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype SubviewName = 'left' | 'right' | 'title' | 'background';\n\ntype State = {\n  widths: { [key: string]: number };\n};\n\nconst APPBAR_HEIGHT = Platform.select({\n  ios: 44,\n  android: 56,\n  default: 64,\n});\nconst STATUSBAR_HEIGHT = Platform.select({\n  ios: 20,\n  default: 0,\n});\n\n// These can be adjusted by using headerTitleContainerStyle on navigationOptions\nconst TITLE_OFFSET_CENTER_ALIGN = Platform.select({\n  ios: 70,\n  default: 56,\n});\n\nconst TITLE_OFFSET_LEFT_ALIGN = Platform.select({\n  ios: 20,\n  android: 56,\n  default: 64,\n});\n\nconst getTitleOffsets = (\n  layoutPreset: HeaderLayoutPreset,\n  hasLeftComponent: boolean,\n  hasRightComponent: boolean\n): ViewStyle | undefined => {\n  if (layoutPreset === 'left') {\n    // Maybe at some point we should do something different if the back title is\n    // explicitly enabled, for now people can control it manually\n\n    let style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN,\n    };\n\n    if (!hasLeftComponent) {\n      style.left = Platform.OS === 'web' ? 16 : 0;\n    }\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    let style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN,\n    };\n    if (!hasLeftComponent && !hasRightComponent) {\n      style.left = 0;\n      style.right = 0;\n    }\n\n    return style;\n  }\n\n  return undefined;\n};\n\nconst getAppBarHeight = (isLandscape: boolean) => {\n  if (Platform.OS === 'ios') {\n    // @ts-ignore\n    if (isLandscape && !Platform.isPad) {\n      return 32;\n    } else {\n      return 44;\n    }\n  } else if (Platform.OS === 'android') {\n    return 56;\n  } else {\n    return 64;\n  }\n};\n\nclass Header extends React.PureComponent<Props, State> {\n  static get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  }\n\n  static defaultProps = {\n    layoutInterpolator: HeaderStyleInterpolator.forLayout,\n    leftInterpolator: HeaderStyleInterpolator.forLeft,\n    leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n    leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n    titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n    titleInterpolator: HeaderStyleInterpolator.forCenter,\n    rightInterpolator: HeaderStyleInterpolator.forRight,\n    backgroundInterpolator: HeaderStyleInterpolator.forBackground,\n  };\n\n  state: State = {\n    widths: {},\n  };\n\n  private getHeaderTitleString(scene: Scene) {\n    const options = scene.descriptor.options;\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    if (options.title && typeof options.title !== 'string' && __DEV__) {\n      throw new Error(\n        `Invalid title for route \"${\n          scene.route.routeName\n        }\" - title must be string or null, instead it was of type ${typeof options.title}`\n      );\n    }\n\n    return options.title;\n  }\n\n  private getLastScene(scene: Scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  private getBackButtonTitleString(scene: Scene) {\n    const lastScene = this.getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    const { headerBackTitle } = lastScene.descriptor.options;\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n    return this.getHeaderTitleString(lastScene);\n  }\n\n  private getTruncatedBackButtonTitle(scene: Scene) {\n    const lastScene = this.getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  private renderTitleComponent = (props: SubviewProps) => {\n    const { layoutPreset } = this.props;\n    const { options } = props.scene.descriptor;\n    const headerTitle = options.headerTitle;\n    if (React.isValidElement(headerTitle)) {\n      return headerTitle;\n    }\n    const titleString = this.getHeaderTitleString(props.scene);\n\n    const titleStyle = options.headerTitleStyle;\n    const color = options.headerTintColor;\n    const allowFontScaling = options.headerTitleAllowFontScaling;\n\n    // When title is centered, the width of left/right components depends on the\n    // calculated size of the title.\n    const onLayout =\n      layoutPreset === 'center'\n        ? (e: LayoutChangeEvent) => {\n            const { width } = e.nativeEvent.layout;\n\n            this.setState(state => ({\n              widths: {\n                ...state.widths,\n                [props.scene.key]: width,\n              },\n            }));\n          }\n        : undefined;\n\n    const HeaderTitleComponent =\n      headerTitle && typeof headerTitle !== 'string'\n        ? headerTitle\n        : HeaderTitle;\n    return (\n      <HeaderTitleComponent\n        onLayout={onLayout}\n        allowFontScaling={!!allowFontScaling}\n        style={[\n          color ? { color } : null,\n          layoutPreset === 'center'\n            ? // eslint-disable-next-line react-native/no-inline-styles\n              { textAlign: 'center' }\n            : // eslint-disable-next-line react-native/no-inline-styles\n              { textAlign: 'left' },\n          titleStyle,\n        ]}\n      >\n        {titleString}\n      </HeaderTitleComponent>\n    );\n  };\n\n  private renderLeftComponent = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n    if (\n      React.isValidElement(options.headerLeft) ||\n      options.headerLeft === null\n    ) {\n      return options.headerLeft;\n    }\n\n    if (!options.headerLeft && props.scene.index === 0) {\n      return;\n    }\n\n    const backButtonTitle = this.getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this.getTruncatedBackButtonTitle(\n      props.scene\n    );\n    const width = this.state.widths[props.scene.key]\n      ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2\n      : undefined;\n    const RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n    return (\n      <RenderedLeftComponent\n        onPress={goBack}\n        pressColorAndroid={options.headerPressColorAndroid}\n        tintColor={options.headerTintColor}\n        backImage={options.headerBackImage}\n        title={backButtonTitle}\n        truncatedTitle={truncatedBackButtonTitle}\n        backTitleVisible={this.props.backTitleVisible}\n        allowFontScaling={options.headerBackAllowFontScaling}\n        titleStyle={options.headerBackTitleStyle}\n        layoutPreset={this.props.layoutPreset}\n        width={width}\n        scene={props.scene}\n      />\n    );\n  };\n\n  private renderModularLeftComponent = (\n    props: SubviewProps,\n    ButtonContainerComponent: React.ComponentProps<\n      typeof ModularHeaderBackButton\n    >['ButtonContainerComponent'],\n    LabelContainerComponent: React.ComponentProps<\n      typeof ModularHeaderBackButton\n    >['LabelContainerComponent']\n  ) => {\n    const { options, navigation } = props.scene.descriptor;\n    const backButtonTitle = this.getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this.getTruncatedBackButtonTitle(\n      props.scene\n    );\n    const width = this.state.widths[props.scene.key]\n      ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2\n      : undefined;\n\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return (\n      <ModularHeaderBackButton\n        onPress={goBack}\n        ButtonContainerComponent={ButtonContainerComponent}\n        LabelContainerComponent={LabelContainerComponent}\n        backTitleVisible={this.props.backTitleVisible}\n        pressColorAndroid={options.headerPressColorAndroid}\n        tintColor={options.headerTintColor}\n        backImage={options.headerBackImage}\n        title={backButtonTitle}\n        truncatedTitle={truncatedBackButtonTitle}\n        titleStyle={options.headerBackTitleStyle}\n        layoutPreset={this.props.layoutPreset}\n        width={width}\n        scene={props.scene}\n      />\n    );\n  };\n\n  private renderRightComponent = (props: SubviewProps) => {\n    const { headerRight } = props.scene.descriptor.options;\n    return headerRight || null;\n  };\n\n  private renderLeft = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n\n    const { transitionPreset } = this.props;\n\n    let { style } = props;\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    // On Android, or if we have a custom header left, or if we have a custom back image, we\n    // do not use the modular header (which is the one that imitates UINavigationController)\n    if (\n      transitionPreset !== 'uikit' ||\n      options.headerBackImage ||\n      options.headerLeft ||\n      options.headerLeft === null\n    ) {\n      return this.renderSubView(\n        { ...props, style },\n        'left',\n        this.renderLeftComponent,\n        this.props.leftInterpolator\n      );\n    } else {\n      return this.renderModularSubView(\n        { ...props, style },\n        'left',\n        this.renderModularLeftComponent,\n        this.props.leftLabelInterpolator,\n        this.props.leftButtonInterpolator\n      );\n    }\n  };\n\n  private renderTitle = (\n    props: SubviewProps,\n    options: {\n      hasLeftComponent: boolean;\n      hasRightComponent: boolean;\n      headerTitleContainerStyle: StyleProp<ViewStyle>;\n    }\n  ) => {\n    const { layoutPreset, transitionPreset } = this.props;\n    let style: StyleProp<ViewStyle> = [\n      { justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start' },\n      getTitleOffsets(\n        layoutPreset,\n        options.hasLeftComponent,\n        options.hasRightComponent\n      ),\n      options.headerTitleContainerStyle,\n    ];\n\n    return this.renderSubView(\n      { ...props, style },\n      'title',\n      this.renderTitleComponent,\n      transitionPreset === 'uikit'\n        ? this.props.titleFromLeftInterpolator\n        : this.props.titleInterpolator\n    );\n  };\n\n  private renderRight = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n\n    let { style } = props;\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this.renderSubView(\n      { ...props, style },\n      'right',\n      this.renderRightComponent,\n      this.props.rightInterpolator\n    );\n  };\n\n  private renderBackground = (props: SubviewProps) => {\n    const {\n      index,\n      descriptor: { options },\n    } = props.scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    return this.renderSubView(\n      { ...props, style: StyleSheet.absoluteFill },\n      'background',\n      () => options.headerBackground,\n      this.props.backgroundInterpolator\n    );\n  };\n\n  private renderModularSubView = (\n    props: SubviewProps,\n    name: SubviewName,\n    renderer: (\n      props: SubviewProps,\n      ButtonContainerComponent: React.ComponentProps<\n        typeof ModularHeaderBackButton\n      >['ButtonContainerComponent'],\n      LabelContainerComponent: React.ComponentProps<\n        typeof ModularHeaderBackButton\n      >['LabelContainerComponent']\n    ) => React.ReactNode,\n    labelStyleInterpolator: (props: SceneInterpolatorProps) => any,\n    buttonStyleInterpolator: (props: SceneInterpolatorProps) => any\n  ) => {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    // Never render a modular back button on the first screen in a stack.\n    if (index === 0) {\n      return;\n    }\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const ButtonContainer = ({ children }: { children: React.ReactNode }) => (\n      <Animated.View\n        style={[buttonStyleInterpolator({ ...this.props, ...props })]}\n      >\n        {children}\n      </Animated.View>\n    );\n\n    const LabelContainer = ({ children }: { children: React.ReactNode }) => (\n      <Animated.View\n        style={[labelStyleInterpolator({ ...this.props, ...props })]}\n      >\n        {children}\n      </Animated.View>\n    );\n\n    const subView = renderer(\n      props,\n      ButtonContainer as any,\n      LabelContainer as any\n    );\n\n    if (subView === null) {\n      return subView;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return (\n      <View\n        key={`${name}_${key}`}\n        pointerEvents={pointerEvents}\n        style={[styles.item, styles[name], props.style]}\n      >\n        {subView}\n      </View>\n    );\n  };\n\n  private renderSubView = (\n    props: SubviewProps,\n    name: SubviewName,\n    renderer: (props: SubviewProps) => React.ReactNode,\n    styleInterpolator: (props: SceneInterpolatorProps) => any\n  ) => {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return (\n      <Animated.View\n        pointerEvents={pointerEvents}\n        key={`${name}_${key}`}\n        style={[\n          styles.item,\n          styles[name],\n          props.style,\n          styleInterpolator({\n            ...this.props,\n            ...props,\n          }),\n        ]}\n      >\n        {subView}\n      </Animated.View>\n    );\n  };\n\n  private renderHeader = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n    if (options.header === null) {\n      return null;\n    }\n    const left = this.renderLeft(props);\n    const right = this.renderRight(props);\n    const title = this.renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle,\n    });\n\n    const { transitionPreset } = this.props;\n\n    const wrapperProps = {\n      style: styles.header,\n      key: `scene_${props.scene.key}`,\n    };\n\n    if (\n      options.headerLeft ||\n      options.headerBackImage ||\n      Platform.OS !== 'ios' ||\n      transitionPreset !== 'uikit'\n    ) {\n      return (\n        <View {...wrapperProps}>\n          {title}\n          {left}\n          {right}\n        </View>\n      );\n    } else {\n      return (\n        <MaskedViewIOS\n          {...wrapperProps}\n          maskElement={\n            <View style={styles.iconMaskContainer}>\n              <Image\n                source={require('../assets/back-icon-mask.png')}\n                style={styles.iconMask}\n              />\n              <View style={styles.iconMaskFillerRect} />\n            </View>\n          }\n        >\n          {title}\n          {left}\n          {right}\n        </MaskedViewIOS>\n      );\n    }\n  };\n\n  render() {\n    let appBar;\n    let background;\n    const { mode, scene, isLandscape } = this.props;\n\n    if (mode === 'float') {\n      const scenesByIndex: { [key: string]: Scene } = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      const scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        scene,\n      }));\n      appBar = scenesProps.map(props => this.renderHeader(props));\n      background = scenesProps.map(props => this.renderBackground(props));\n    } else {\n      const headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        scene: this.props.scene,\n      };\n\n      appBar = this.renderHeader(headerProps);\n      background = this.renderBackground(headerProps);\n    }\n\n    const { options } = scene.descriptor;\n    const { headerStyle = {} } = options;\n    const headerStyleObj = StyleSheet.flatten(headerStyle) as ViewStyle;\n    const appBarHeight = getAppBarHeight(isLandscape);\n\n    const {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      // paddingVertical,\n      // paddingTop,\n      // paddingBottom,\n      top,\n      right,\n      bottom,\n      left,\n      ...safeHeaderStyle\n    } = headerStyleObj;\n\n    if (__DEV__) {\n      warnIfHeaderStyleDefined(alignItems, 'alignItems');\n      warnIfHeaderStyleDefined(justifyContent, 'justifyContent');\n      warnIfHeaderStyleDefined(flex, 'flex');\n      warnIfHeaderStyleDefined(flexDirection, 'flexDirection');\n      warnIfHeaderStyleDefined(flexGrow, 'flexGrow');\n      warnIfHeaderStyleDefined(flexShrink, 'flexShrink');\n      warnIfHeaderStyleDefined(flexBasis, 'flexBasis');\n      warnIfHeaderStyleDefined(flexWrap, 'flexWrap');\n      warnIfHeaderStyleDefined(padding, 'padding');\n      warnIfHeaderStyleDefined(position, 'position');\n      warnIfHeaderStyleDefined(paddingHorizontal, 'paddingHorizontal');\n      warnIfHeaderStyleDefined(paddingRight, 'paddingRight');\n      warnIfHeaderStyleDefined(paddingLeft, 'paddingLeft');\n      // warnIfHeaderStyleDefined(paddingVertical, 'paddingVertical');\n      // warnIfHeaderStyleDefined(paddingTop, 'paddingTop');\n      // warnIfHeaderStyleDefined(paddingBottom, 'paddingBottom');\n      warnIfHeaderStyleDefined(top, 'top');\n      warnIfHeaderStyleDefined(right, 'right');\n      warnIfHeaderStyleDefined(bottom, 'bottom');\n      warnIfHeaderStyleDefined(left, 'left');\n    }\n\n    // TODO: warn if any unsafe styles are provided\n    const containerStyles = [\n      options.headerTransparent\n        ? styles.transparentContainer\n        : styles.container,\n      { height: appBarHeight },\n      safeHeaderStyle,\n    ];\n\n    const { headerForceInset } = options;\n    const forceInset = headerForceInset || {\n      top: 'always',\n      bottom: 'never',\n      horizontal: 'always',\n    };\n\n    return (\n      <Animated.View\n        style={[\n          this.props.layoutInterpolator(this.props),\n          Platform.OS === 'ios' && !options.headerTransparent\n            ? {\n                backgroundColor:\n                  safeHeaderStyle.backgroundColor || DEFAULT_BACKGROUND_COLOR,\n              }\n            : null,\n        ]}\n      >\n        <SafeAreaView forceInset={forceInset} style={containerStyles}>\n          {background}\n          <View style={styles.flexOne}>{appBar}</View>\n        </SafeAreaView>\n      </Animated.View>\n    );\n  }\n}\n\nfunction warnIfHeaderStyleDefined(value: any, styleProp: string) {\n  if (styleProp === 'position' && value === 'absolute') {\n    console.warn(\n      \"position: 'absolute' is not supported on headerStyle. If you would like to render content under the header, use the headerTransparent navigationOption.\"\n    );\n  } else if (value !== undefined) {\n    console.warn(\n      `${styleProp} was given a value of ${value}, this has no effect on headerStyle.`\n    );\n  }\n}\n\nconst platformContainerStyles = Platform.select({\n  android: {\n    elevation: 4,\n  },\n  ios: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: '#A7A7AA',\n  },\n  default: {\n    // https://github.com/necolas/react-native-web/issues/44\n    // Material Design\n    boxShadow: `0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12)`,\n  },\n});\n\nconst DEFAULT_BACKGROUND_COLOR = '#FFF';\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: DEFAULT_BACKGROUND_COLOR,\n    ...platformContainerStyles,\n  },\n  transparentContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    ...platformContainerStyles,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0,\n  },\n  header: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: 'row',\n  },\n  item: {\n    backgroundColor: 'transparent',\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -5,\n  },\n  iconMask: {\n    // These are mostly the same as the icon in ModularHeaderBackButton\n    height: 23,\n    width: 14.5,\n    marginLeft: 8.5,\n    marginTop: -2.5,\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }],\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  background: {},\n  // eslint-disable-next-line react-native/no-unused-styles\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  flexOne: {\n    flex: 1,\n  },\n});\n\nexport default withOrientation(Header);\n"]}